<html>
<head>
    <title>Openphacts explorer unit tests</title>

    <!-- Jasmine -->
    <script type="text/javascript" src="/app-test/lib/jasmine-standalone-1.2.0/lib/jasmine-1.2.0/jasmine.js"></script>
    <script type="text/javascript" src="/app-test/lib/jasmine-standalone-1.2.0/lib/jasmine-1.2.0/jasmine-html.js"></script>
    <link href="/app-test/lib/jasmine-standalone-1.2.0/lib/jasmine-1.2.0/jasmine.css" type="text/css" rel="stylesheet" />

    <!-- ExtJS -->
    <script type="text/javascript" src="/ext/ext-all-debug.js"></script>
<!-- TODO Until the sim search talks directly to the api from the js side create the url here -->
  <script type="text/javascript">
    var cs_download_url = '<%= chemspider_tab_separated_file_core_api_calls_url -%>';
    var tsv_download_url = '<%= tab_separated_file_core_api_calls_url -%>';
    var simSearchUrl = '<%= get_chem_info4known_csids_core_api_calls_url -%>?';
    var ldaBaseUrl = '<%= "http://" + AppSettings.config["tsv"]["tsv_url"] -%>';
    var cwBaseUrl = '<%= AppSettings.config["cw"]["url"] -%>';
    var explorer_version = '<%= app_version %>';
  </script>
<script type="text/javascript">
Ext.Loader.setConfig({
    enabled: true,
    paths: {
        'CS':'chemspider/lib','CW':'conceptwiki/lib','LDA':'LinkedDataAPIParser/lib', 'LSP':'app/'
    }
});
</script>
    <!-- UNIT TEST CLASSES -->
    <script type="text/javascript" src="/app-test/spec/PharmacologyByCompoundTest.js"></script>
    <script type="text/javascript" src="/app-test/spec/PharmacologyByTargetTest.js"></script>
    <script type="text/javascript" src="/app-test/spec/PharmacologyByEnzymeTest.js"></script>
    <script type="text/javascript" src="/app-test/spec/PharmacologyFiltersTest.js"></script>

</head>
<body>

    <div id="test"></div>

    <script type="text/javascript">
        var jasmineEnv = jasmine.getEnv();
        var trivialReporter = new jasmine.TrivialReporter();

        jasmineEnv.updateInterval = 1000;

        jasmineEnv.addReporter(trivialReporter);

        jasmineEnv.specFilter = function(spec) {
            return trivialReporter.specFilter(spec);
        };

        jasmineEnv.execute();
    </script>

</body>
</html>
